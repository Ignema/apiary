# {{ model.name }}

{{ model.name }} - A REST API generated by Apiary MDE toolkit

**Version:** {{ model.version }}  
**Base URL:** {{ model.base_url }}

## Overview

This FastAPI application was automatically generated from a DSL specification using Apiary, a Model-Driven Engineering toolkit. It provides a complete REST API with CRUD operations, SQLModel persistence, and automatic API documentation.

## Features

- ✅ FastAPI web framework with async support
- ✅ SQLModel ORM with {% if model.database.value == 'sqlite' %}SQLite{% elif model.database.value == 'postgres' %}PostgreSQL{% endif %} database
- ✅ Automatic API documentation (Swagger UI and ReDoc)
- ✅ CORS middleware enabled
- ✅ Type-safe request/response models
- ✅ Database session management with dependency injection

## Setup

### Prerequisites

- Python 3.11 or higher
- UV package manager ([installation guide](https://docs.astral.sh/uv/getting-started/installation/))

### Installation

1. Install dependencies using UV:

```bash
uv sync
```

This will create a virtual environment and install all required packages.

## Running the Application

Start the development server with auto-reload:

```bash
uv run uvicorn main:app --reload
```

The API will be available at `http://localhost:8000`

## API Documentation

Once the application is running, you can access the interactive API documentation:

- **Swagger UI:** [http://localhost:8000/docs](http://localhost:8000/docs)
- **ReDoc:** [http://localhost:8000/redoc](http://localhost:8000/redoc)

## API Endpoints

{% for endpoint in model.endpoints %}
- `{{ endpoint.method.value }} {{ endpoint.path }}` - {{ endpoint.description or 'No description' }}
{% endfor %}

## Models

{% for model_def in model.models %}
### {{ model_def.name }}

Table: `{{ model_def.table_name }}`

Fields:
{% for field in model_def.fields %}
- `{{ field.name }}` ({{ field.type.value }}){% if field.required %} - Required{% endif %}{% if field.unique %} - Unique{% endif %}{% if field.indexed %} - Indexed{% endif %}{% if field.default %} - Default: {{ field.default }}{% endif %}
{% endfor %}
{% endfor %}

## Database

{% if model.database.value == 'sqlite' %}
This application uses SQLite with a local database file (`database.db`). The database is automatically created when the application starts.
{% elif model.database.value == 'postgres' %}
This application uses PostgreSQL. Update the connection string in `database.py` with your database credentials:

```python
DATABASE_URL = "postgresql://user:password@localhost/{{ model.name | lower }}"
```
{% endif %}

## Development

### Running Tests

```bash
uv run pytest
```

### Project Structure

```
.
├── main.py          # FastAPI application and route handlers
├── models.py        # SQLModel data models
├── database.py      # Database configuration and session management
├── pyproject.toml   # Project configuration and dependencies
└── README.md        # This file
```

## Generated by Apiary

This project was generated using [Apiary](https://github.com/Ignema/apiary), a Model-Driven Engineering toolkit for REST APIs.
